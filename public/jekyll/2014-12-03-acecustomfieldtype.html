---
layout: post
title: AceCustomFieldType
date: 2014-12-03 15:54:04.000000000 +01:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- general
tags: []
meta:
  _edit_last: '1'
author:
  login: PS
  email: per@soderlind.no
  display_name: Per Søderlind
  first_name: Per
  last_name: Soderlind
---
<p>An <a href="https://ace.c9.io/">Ace</a> Custom Field Type for the <a href="https://github.com/michaeluno/admin-page-framework">Admin Page Framework</a>.</p>
<p><a href="https://res.cloudinary.com/soderlind/image/upload/v1417623525/AceCustomFieldType-code_qxtbr9.jpg"><amp-img layout="responsive" class="aligncenter size-medium wp-image-4518" src="{{ site.baseurl }}/assets/AceCustomFieldType-code_qxtbr9.jpg" alt="AceCustomFieldType Demo" width="300" height="223" /></a></p>
<p>&nbsp;</p>
<p><!--more--></p>
<h2>Adding AceCustomFieldType</h2>
<pre class="lang:php decode:true ">class My_Settings extends AdminPageFramework {

    public function start_My_Settings() {

        if (! class_exists('AceCustomFieldType'))
            include_once(dirname( __FILE__ ) . '/AceCustomFieldType/AceCustomFieldType.php');

        $sClassName = get_class( $this );

        new AceCustomFieldType( $sClassName );
    }

    public function setUp() {

        /* add section etc */

        $this-&gt;addSettingFields(
            array(  // Ace Custom Field
                'field_id'          =&gt; 'style_editor',
                'section_id'        =&gt; 'a_section',
                'title'             =&gt; __('Style Editor', 'l10n' ),
                'description'       =&gt; __('Type a text string here.', 'l10n' ),
                'type'              =&gt; 'ace',
                'default'           =&gt; '',
                //'repeatable'        =&gt; true,
                // The attributes below are the defaults, i.e. if you want theses you don't have to set them
                'attributes' =&gt;  array(
                    'cols'          =&gt;  60,
                    'rows'          =&gt;  4,
                ),
                // The options below are the  defaults, i.e. if you want theses you don't have to set them
                'options'    =&gt; array(
                    'language'      =&gt; 'css', // available languages https://github.com/ajaxorg/ace/tree/master/lib/ace/mode
                    'theme'         =&gt; 'chrome', //available themes https://github.com/ajaxorg/ace/tree/master/lib/ace/theme
                    'gutter'        =&gt; false,
                    'readonly'      =&gt; false,
                    'fontsize'      =&gt; 12,
                )
            )
        );
    }
}</pre>
<p>&nbsp;</p>
<h2>cdnjs</h2>
<p>AceCustomFieldType is <a href="https://github.com/soderlind/AceCustomFieldType/blob/master/AceCustomFieldType.php#L45">using cdnjs</a>:</p>
<pre class="lang:php decode:true">protected function getEnqueuingScripts() {
    return array(
        array( 'src'    =&gt; '//cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js', 'dependencies'    =&gt; array( 'jquery' ) ),
        /**
         * If you'd like to use a local ace library:
         *
         * 1) Go to the same folder as this file
         * 2) Clone ace-builds: git clone https://github.com/ajaxorg/ace-builds.git
         * 3) Remove the line above this comment section
         * 4) Uncomment the line below this comment section
         */
        //array( 'src'    =&gt; dirname( __FILE__ ) . '/ace-builds/src-min-noconflict/ace.js', 'dependencies'    =&gt; array( 'jquery' ) ),
    );
}</pre>
<h2>Download</h2>
<ul>
<li>AceCustomFieldType is included in the <a href="https://wordpress.org/plugins/admin-page-framework/">Admin Page Framework</a></li>
<li>Development is done at GitHub: <a href="https://github.com/soderlind/AceCustomFieldType">https://github.com/soderlind/AceCustomFieldType</a></li>
</ul>
<h2>Changelog</h2>
<ul class="task-list">
<li>1.1.0 Removed local ace-builds library. AceCustomFieldType is now using <a href="https://cdnjs.com/libraries/ace/">https://cdnjs.com/libraries/ace/</a></li>
<li>1.0.0 Cleaned up files, the <code>ace-builds</code> folder is no longer a submodule and only contains the src-min-noconflict build. The missing feature, mentioned below, is added in Admin Page Framework 3.3.0</li>
<li>0.0.4 Added support for <code>'type' =&gt; 'revealer'</code>. Note <a href="https://github.com/michaeluno/admin-page-framework/issues/147">a missing feature in revealer</a> is preventing it from saving state</li>
<li>0.0.3 Added support for <code>'repeatable' =&gt; true</code></li>
<li>0.0.2 Keeping it simple, AceCustomFieldType is feature complete, i.e. you can change language, theme and fontsize, enable/disable gutter and make it readonly.</li>
<li>0.0.1 Initial working release, there's still a lot todo</li>
</ul>
